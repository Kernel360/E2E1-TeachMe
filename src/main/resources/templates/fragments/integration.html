<!DOCTYPE HTML>
<html
        lang="ko"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
        xmlns="http://www.w3.org/1999/html">

<!-- fragment : advertise -->
<body>
<div th:fragment="advertiseFragment" id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel" style="height: 200px;">
  <div class="carousel-inner" style="z-index: -1">
    <div class="carousel-item active">
      <img th:src="@{../images/banner1.png}" class="d-block w-100" alt="..." style="height: 150px;">
    </div>
    <div class="carousel-item">
      <img th:src="@{../images/banner2.png}" class="d-block w-100" alt="..." style="height: 150px;">
    </div>
    <div class="carousel-item">
      <img th:src="@{../images/banner3.png}" class="d-block w-100" alt="..." style="height: 150px;">
    </div>
  </div>
</div>

<!-- fragment : header -->

<nav th:fragment="headerFragment" class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid" style="margin-left: 200px; margin-right: 200px;">
    <a class="navbar-brand" href="/">
      <img th:src="@{../images/logo.png}" style="position: relative; bottom:6px;">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="display: flex; width: 100%;">
        <li class="nav-item">
          <a class="nav-link active"
             aria-current="page"
             href="/lecture/list"> 강의 리스트 </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-current="page"
             sec:authorize="isAuthenticated()">
            마이페이지
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/favor/list">내가 찜한 강의</a></li>
            <li><a class="dropdown-item" href="/review/me">내가 작성한 리뷰</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/member/me">내 정보 관리</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-current="page"
             sec:authorize="hasAnyRole('ROLE_ADMIN')">
            관리자메뉴
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/crawler">데이터 관리</a></li>
            <li><a class="dropdown-item" href="/report">통계</a></li>
          </ul>
        </li>
        <li class="nav-item" style="margin-left: auto" sec:authorize="!isAuthenticated()">
          <a class="nav-link active"
             style="font-size: 13px; border-radius: 4px; border-color: gainsboro; border-style: solid; border-width: 1px; letter-spacing: 1px; display: inline-block; cursor: pointer;"
             aria-current="page"
             sec:authorize="!isAuthenticated()"
             href="/login"> <i class="fa-solid fa-user"></i> LOGIN </a>
          <a class="nav-link active"
             style="font-size: 13px; border-radius: 4px; border-color: gainsboro; border-style: solid; border-width: 1px; letter-spacing: 2px; display: inline-block; cursor: pointer;"
             aria-current="page"
             sec:authorize="!isAuthenticated()"
             href="/member/signup"><i class="fa-solid fa-user-plus"></i> JOIN </a>
        </li>
        <!-- 로그아웃: 로그인한 사람만 -->
        <li class="nav-item">
        </li>
        <li class="nav-item" style="margin-left: auto;" sec:authorize="isAuthenticated()">
          <a
                  class="nav-link active"
                  style="display: inline-block;"
                  sec:authorize="isAuthenticated()">
            <span th:text="${#authentication.principal.name + '님 환영합니다! '}"></span>
          </a>
          <a class="nav-link active"
             style="font-size: 12px; border-radius: 4px; border-color: gainsboro; border-style: solid; border-width: 1px; letter-spacing: 1px; display: inline-block; cursor: pointer;"
             aria-current="page"
             sec:authorize="isAuthenticated()"
             href="/logout"><i class="fa-solid fa-user-minus"></i> LOGOUT </a>
        </li>
      </ul>
    </div>
  </div>
</nav>


</body>